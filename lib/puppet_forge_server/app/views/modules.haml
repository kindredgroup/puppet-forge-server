-# -*- encoding: utf-8 -*-
-#
-# Copyright 2014 North Development AB
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-# http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.

- query = CGI::escape(query)
%h3.search-results-title Found #{modules.count} module matching '#{query}'
.list-container
  %ul.list.modules
    - modules.each do |element|
      %li{:class => element['private'] ? 'clearfix private' : 'clearfix'}
        .col
          %a{:class => "h3", :href => "/module?name=#{element['current_release']['metadata']['name']}" }= "#{element['owner']['username']}/#{element['name']}"
          %p= element['current_release']['metadata']['summary']
          %span.release-info= "Version #{element['current_release']['metadata']['version']}"
          - if element['current_release']['metadata']['issues_url']
            %a{:class => "module-link", :href => element['current_release']['metadata']['issues_url']}= "Report issues"
          - if element['current_release']['metadata']['project_page']
            %a{:class => "module-link", :href => element['current_release']['metadata']['project_page']}= "Project URL"
