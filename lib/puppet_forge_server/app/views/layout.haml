-# -*- encoding: utf-8 -*-
-#
-# Copyright 2014 North Development AB
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-# http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.

!!!
%html
  %head
    %meta{ :charset => 'utf-8' }
    %title Internal Puppet Forge
    -# Latest compiled and minified CSS
    %link{ :href => 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css', :type => 'text/css', :rel => 'stylesheet' }
    %link{ :href => 'css/puppetlabs.css', :type => 'text/css', :rel => 'stylesheet' }
    -#%link{ :href => 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css', :type => 'text/css', :rel => 'stylesheet' }
    /[if lt IE 9]
      %script{:src => 'https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js'}
      %script{:src => 'https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js'}
  %body
    .navbar.navbar-default.navbar-fixed-top{ :role => 'navigation' }
      .container
        .navbar-header
          %button.navbar-toggle{ :type => 'button', 'data-toggle' => 'collapse', 'data-target' => '.navbar-collapse'}
            %span.sr-only Toggle Navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
        .collapse.navbar-collapse
          %ul.nav.navbar-nav.navbar-right
            %li.active
              %a{:href => 'https://forge.puppetlabs.com/', :target => 'official-puppet-forge'} Official Puppet Forge
            %li
              %a{:href => '/upload'}
                Upload Puppet Module
            %li
              %a{:href => 'https://github.com/unibet/puppet-forge-server', :target => 'puppet-forge-server-github'} Help
    %script{ :src => 'https://code.jquery.com/jquery-2.1.3.min.js' }
    .section#header
      .side-width.clearfix
        %a{:href => '/'}
          #logo
            %img.logo{ :src => 'img/forge-logo.png', :height => 65}
            %span.logo.puppet= 'Puppet Forge'
            %span.logo.forge= 'Server'
        .top-search
          %form{:action => '/modules', :method=>'get'}
            %input{ :type => 'search', :name=>'query', :placeholder=>'Search modules', :autofocus=>''}
            %input.search-btn{ :type=>'submit', :value=>'Find'}
            %span.search_error= ''
    .section#content
      .side-width.clearfix
        = yield
    %script{ :src => 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js' }
    %script{ :src => 'js/internal.js' }
